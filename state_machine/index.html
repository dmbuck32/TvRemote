<!DOCTYPE html>
<html>
    <!-- generated state machine file. -->
    <script src="TvRemoteSm.js"></script>
    <!-- long-press event generator. -->
    <script src="long-press-event.min.js"></script>
    <script>
        let tvStateMachine = new TvRemoteSm();
        tvStateMachine.start();

        // Handler for long-button press.
        document.addEventListener('long-press', function(e) {
            if (e.target.dataset.name === "B1") {
                // console.log("B1_LONG_PRESS");
                tvStateMachine.dispatchEvent(TvRemoteSm.EventId.B1_LONG_PRESS);
            } else {
                // console.log("B2_LONG_PRESS");
                tvStateMachine.dispatchEvent(TvRemoteSm.EventId.B2_LONG_PRESS);
            }
        });

        // Handler for short-button press.
        document.addEventListener("pointerdown", function(e) {
            if (e.target.dataset.name === "B1") {
                // console.log("B1_PRESS");
                tvStateMachine.dispatchEvent(TvRemoteSm.EventId.B1_PRESS);
            } else {
                // console.log("B2_PRESS");
                tvStateMachine.dispatchEvent(TvRemoteSm.EventId.B2_PRESS);
            }
        });


    </script>
    <body>
        <button
            data-long-press-delay="800" 
            data-name="B1">B1</button>
        <button
            data-long-press-delay="800" 
            data-name="B2">B2</button>
    </body>
</html>